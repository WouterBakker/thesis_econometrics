---
title: "Thesis progress"
author: "WJ Bakker"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_depth: 3
---



```{r, message=FALSE, warning=FALSE, include = FALSE}

library(glmnet)
library(tidyverse)
library(ggplot2)
library(stargazer)


```



# Introduction

### General summary of what I plan to do (so far)

In this paper, I would like to develop methods for applying panel data techniques to survey data. Panel data concern repeated measurements for multiple cross-sectional units over time. However, in many cases true panel data are not available. For example, panel data methods are effective in analysing labour mobility to the end of improving public policies, but data are generally not available for the same workers over time (Ribas, 2022). However, survey data may be available, where representative samples for each cross-sectional unit are observed at each timepoint. In order to leverage the methods for panel data analysis, this dimension ought to be reduced to obtain single measurements for each timepoint. 

[Deaton (1985)](https://www.princeton.edu/~deaton/downloads/Panel_Data_from_Time_Series_of_Cross_Sections.pdf) first proposes methods to construct these pseudo-panel data by taking population averages. However, this method only works if the survey is a representative sample from the population, which can be an overly strong assumption. Sampling bias is one potential issue. One source of sampling bias is the result of missing values, which leads to dropped observations. Moreover, sampling bias can occur in the data collection when some sub-populations have a larger tendency to respond to the survey. The means, then, will not estimate the population average, lead to an unrepresentative pseudo-panel dataset and ultimately to incorrect inference. 

To solve this, one would need data on the distribution of the relevant sub-populations. If we assume that there is no sampling bias in the data collection, one can use the sub-population distributions of the full dataset and then use them to correct for the bias in the cleaned data. To correct for both sources of sampling bias one could use publicly available information of sub-population distributions, with the downside that it is time-consuming for a large number of cross-sectional units. 

With knowledge of the sub-population distributions the bias can be corrected. Two methods will be compared: using a weighted average (instead of the unweighted average as used by Deaton (1985)), and using stratified bootstrapping (NOTE: I will have to research whether stratified bootstrapping provides any advantages; it provides a distribution of the mean instead of a point estimate, but I'm not sure whether this is relevant for a pseudo-panel analysis).

The research is motivated by the CSES dataset. From their website, "The Comparative Study of Electoral Systems (CSES) is a collaborative program of research among election study teams from around the world. Participating countries and provinces include a common module of survey questions in their post-election studies. The resulting data are deposited along with voting, demographic, district and macro/electoral system variables. The studies are then merged into a single, free, public dataset for use in comparative study and cross-level analysis." (see: https://cses.org/about-the-study/)

To this end, I will first perform a simulation study, generating data that reflect the CSES survey data. Then, I will construct a pseudo-panel dataset using the aforementioned methods and perform a panel data analysis, and see whether the outcome reflects the DGP of the simulated data. The requirements for the data used for the pseudo-panel data analysis will be analysed by simulating data with varying characteristics. 

## Comments on the introduction

We previously discussed the model from [Su, Shi, & Phillips](https://doi-org.vu-nl.idm.oclc.org/10.3982/ECTA12560). It can still be interesting to apply and use it as a sub-research question, but it feels like then the scope of my thesis might become a little too big. This is still something that I consider of course, since I think that there is reason to believe that the assumption of slope homogeneity might be too strong. 

Moreover, I am of course aware that a panel data model should model some underlying characteristic of the data. Although left-right vote could still be interesting, I don't think this is suitable for the methods I described above, and there might be a better method to answer my question: factors that determine the political developments in Europe. 
This is my idea currently:

- data are available for the percentage of votes each party obtained
- data are available for the left-rightness of each party's manifesto (using the CMP data)

Using this I can calculate the left-rightness of a country: mean(% votes * left-rightness), which is essentially the mean of the weighted left-rightness of each party. I can then still use the other data that are collected in the CSES as independent variables. I am still a bit unsure on how I would work this out though.

Alternatively, I could still use the left-right vote of each individual, and if I can assume that the sample is representative, taking the mean (even though it is a categorical variable) should still be valid.










